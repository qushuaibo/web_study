<center><font color=red size=6>vim总结</font></center>
### 1 Vim的几种模式
     正常模式: 可以使用快捷键命令，或按：输入命令行.
     插入模式：可以输入文本，在正常模式下，按i,a,o等都可以进入插入模式。
     可视模式：正常模式下按v可以进入可视模式，在可视模式下，移动光标可以选择文本。按V进入可视行模式，CTRL+v进入可视块模式。
     替换模式：在正常模式下，按r进入
     也可以分为
        编辑模式
        输入模式
        末行模式
### 2 启动VIm
    vim -c cmd file: 在打开文件之前,先执行指定的命令;
    vim -r file: 恢复异常退出的文件
    vim -R file: 以只读方式打开文件,但可以强制保存.
    vim -M file: 以只读模式打开文件,不可以强制保存
    vim + file : 从文件的末尾开始编辑
    vim +num file:从文件的第几行开始打开文件
    vim +/string file:打开文件,并将光标停留在string上

### 3 文档操作
    :e file 关闭当前编辑的文件,并开启新的文件,如果当前文件修改未保存,vi会警告
    :e! file 放弃对当前文件的编辑,编辑新的文件.
    :e+  file 开始新的文件的编辑,从文件末尾开始编辑
    :e+n file 开始新的文件的编辑,并从第n行进行编辑
    :e new  编译未命名的文件
    :e  重新加载当前文件
    :e! 重新加载当前文件,并丢七已做的改动
    :e#回到刚刚编辑的文件(非常实用) ***
    :f显示文档的名
    :w 保存修改
    :wq 保存退出
    :ZZ 保存退出
    :x 保存并退出
    :q退出窗口 
    :saveas newfilename 另存为
    :E 打开文件目录,选择要编辑的文件
    sp:水平分割一个窗口
    :vsp 垂直分割一个窗口

### 4 光标的移动
#### 4.1 基本移动
    在normal模式下
        h或者退格:做移动光标
        l或者空格右移动光标
        j 下移光标
        k 上移光标
        w 前移一个单词,光标停留在下一个单词的开头 ** word
        b 后移一个单词,光标停留在上一个单词的开头 ** before
        e 迁移一个单词光标停留在单词的末尾  end
        (移动到当前句子的开头
        )移动到下一句子的开头
        { 移动到当前这段的开头
        } 移动到下一段的开头
        0 移动到行首
        ^ 移动到行首第一个非空白字符
        $ 移动到行尾
        G 移动到文件的最末尾
        gg 移动到文件的最开头
        数字+G 移动到文件的第几行
        屏幕的HML移动:
            H 把光标移动到屏幕的定都
            M 把光标移动到屏幕的中间
            L 把光标移动到最低端
        数字+h/j/k/l/w/e/b/G

#### 4.2 翻屏
    c+f 下翻一页	forward
    c+b 上翻一页    backward
    c+d 下翻半页	down
    c+u 上翻半页    up
    c+e 下翻一行	
    c+y 上翻一行
    zz 当前行移动到屏幕的中间  ****
    zt 当前行移动到屏幕的顶端
    zb 当前行移动到屏幕的底端

#### 4.3 标记
    使用标记可以快速移动.到达标记后可以按ctrl+o放回原来的位置,ctrl+o和ctrl+i像浏览器的后退和前进
    m{a-z}标记光标所在的位置,局部标记,只适应于当前文件
    m{A-Z}标记光标所在的位置,全局标记,标记之后,退出vim,重新启动,标记任然有效
    `{a-z} 移动到标记位置

### 5 插入文本

#### 5.1 基本插入
    i 光标前插入   insert
    I 当前行的第一个空白字符前插入
    a 光标后插入  add
    A 本行最后位置插入
    o 在下面新建一行
    O 在上面新建一行
    r 替换光标后的一个字符  replace
    R 无限替换
    s 删除光标所在的位置并且插入
    :r filaname 在当前位置插入另一个文本
    :r! command 在光标处插入命令的结果


#### 5.2 改写插入

### 6 替换命令

#### 替换当前行

:s/from/to   替换第一个一个

:/s/from/to/gc

将from替换为to  g代表全局 c代表询问

:数字1，数字2d  删除第几行到第几行


 from和to都可以是任何字符串，其中from还可以是正则表达式 

#### 替换某一行

:33s/from/to/g   替换33行

:$s/from/to   替换最后一行

:.s/from/to  替换当前行

#### 替换某一行

:10,20s/from/to/g   替换第10行到第20行

:1,$s/from/to/g  替换第一行到末尾行

:.,$s/from/to  替换当前行到末尾行

: ` a, `bs/from 替换标记的a，b之间   （`a `b)

#### 替换所有行

:%s/from/to/gc  

**完整命令**

:[range]s/from/to/[falgs]

flags 参数：

- 无 代表第一个
- g 代表所有
- c 代表替换前寻求同意
- e 忽略执行过程中的错误

### 7 宏录制

q[a-z] 开始录制

q 停止

@[a-z] 开始执行宏

普通模式下 <c-a>可以对数字加一
        <c-x> 数字减去一


### 8 大小写之间的转化

```
~ 将光标下的字母改变大小写
3~ 将光标位置开始的3个字母改变大小写
U  将可视模式下选择的字母改为大写
u  将可视模式下选择的字母改为小写
gUU 将当前行的字母改为大写
guu  将当前行的字母改为小写
gUw   将光标下的单词改为大写
guw   将光标下的单词改为小写
```

### 9 快速选中 删除 复制引号或括号中的内容

ci" ci' ci( ci{ ci[ ci<  w 更改对应标点中的内容 w单词

di' di" di<    等等  删除对应标点的内容  

yi" yi '   等等  复制对应标点的内容

vi'      等等  选中对应标点的内容

将i改成a可以连引号也删除

### 9 vim寄存器
 寄存器和系统的粘贴板是不同的
    在vimrc中添加即可实现和系统粘贴版共享
    "共享剪贴板  
    set clipboard =unnamed 
 `[a-z] 是mark
 通过  "[a-z] 使用那个寄存器 后面加复制命令
 "0 是默认寄存器
 "+ 是系统粘贴板  
 "% 是文件的名
 ". 上次插入的文本
 :reg [a-z] 查看寄存器保存的内容

    默认是无名寄存器
    一旦关闭 寄存器将自动取消


###  快捷键小总结

gu 小写

gU 大写

f[a-zA-Z]  查找

. 重复上次命令

x 删除

/ 向下查找
? 向上查找
n下一个匹配
N 上一个匹配

* 查找下一个出现相同单词的地方

查找上一个出现相同单词的地方

g*
g#

{}和[]  在函数之间快速移动

如果vimrc中设置了autoindent 
复制python代码出现缩进问题 
先 set paste  设置为不自动缩进
复制好后 set nopaste  设置为自动缩进

J 合并行 join  jj

F 反向查找 find

H 屏幕顶行 head
L 屏幕地行 

; 重复 t/T/f/F
" 寄存器
` 跳转到标注
’跳转到标注的行首 

| ^ 行首

x 删除当下字母
X 退格 （删除当下字母的前一个字母）

c 修改
cc 修改当前行

### 按键盘形式

```
`+[a-z] 跳转到标记
@+[a-z] 执行宏
$ 行尾
% 匹配{}()
^ 匹配行首(非空白)

* 寻找下一个相同的单词
  () 句首 和 句尾

- 前一行行首

+ 后一行行首
  = 自动格式化
  :q 退出   quit
  q+[a-z] 宏录制
  w  下一个单词 word
  W 上一个单词
  e 词尾    end
  r 单个替换  replace
  R 多个替换
  y 拷贝  copy
  u 撤销  undo
  U 行内撤销
  i 插入   insert
  I 到行首插入
  o 插入到下一行  row
  O 插入到上一行
  p 后粘贴  paste
  P 前粘贴
  {} 段落的首位
  | 行首
  a 附加  add
  A 行尾附加
  s 删除字符并且插入  
  S 删除行并且插入
  d 删除 delete
  D 当前位置删除至行尾   dd 删除当前行
  f 向后查找  find
  F 向前查找
  g 跳转到行   gg 行首 
  G 文件尾部
  h j k l 上下左右
  H 屏幕顶部 head
  J 合并行 join
  K 帮助
  L 屏幕底部
  ; 重复f/t/F/T
  : 进入ex命令
  ' 跳转到' 标注的行首
  "+[a-z] 寄存器
  x 删除
  X 退格
  c 修改
  C 修改至末行
  v 可视模式  visual
  V 可视块
  b 前一个单词 before
  B 前一个单词
  n 查找下一处
  N 查找上一处
  m 标注
  M 屏幕中部
  , 重复f/t/F/T
  < 缩进
  . 重复命令

> 缩进
> / 向后搜索
> ？向前搜索
```

ctrl+f 下翻
ctrl+b 上翻

![1588041794239](D:\software\Typora\all_pic\1588041794239.png)




